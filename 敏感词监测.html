<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>对象</title>
    <style media="screen">
      .red{
        color:red;
      }
      .pass{color:green;}
      .yellow{background-color:yellow;}
    </style>
  </head>
  <body>
    <p><textarea id="text"></textarea></p>
    <p><button type="button" id="button">开始检测</button></p>
    <p><span id="result"></span></p>
    <p id="edit"></p>
    <script>
      var obj = document.getElementById("text");
      var btn = document.getElementById("button")
      var result = document.getElementById("result")
      var edit = document.getElementById("edit")
      var sword = ["天安门","中南海","五四",'54'];

      btn.onclick = function(){
        var isErrorHas = false; //是否存在敏感词
        // 获取文本域的文字
        var text = obj.value;
        // 将文本域的文字拷贝一份显示给edit p标签
        edit.innerHTML = text;
        // 根据枚举敏感词
        for(var i = 0; i < sword.length; i++){
          // 在文本域里有没有存在敏感词
          if(text.indexOf(sword[i]) !== -1){
            isErrorHas = true;
            // 修改edit p标签里面文字样式
            edit.innerHTML = edit.innerHTML.replace(sword[i],"<span class='yellow'>"+ sword[i] +"</span>")
          }
        }
        if(isErrorHas){
          // 显示警告
          result.innerHTML = "检测到敏感词汇"
          result.className = "red"
        }
        else{
          result.innerHTML = "通过"
          result.className = "pass"
          edit.innerHTML = ""
        }
      }
    </script>
  </body>
</html>
