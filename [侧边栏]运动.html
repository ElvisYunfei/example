<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>左侧侧边栏的实现</title>
    <style>
      *{margin:0;padding:0;}
      html,body{
        height:100%;
      }
      #slide{
        height:100%;
        width:300px;
        background-color:#666;
        font-size:24px;
        text-align:center;
        color:#fff;
        position:absolute;
        top:0;
      }
      .contentWrap{
        padding-left:300px;
      }
      #mask{
        opacity: 0;
        background-color:#000;
        height:100%;
        width:100%;
        position:absolute;
        top:0;
        left:0;
        z-index:-1;
      }
    </style>
  </head>
  <body>
    <div id="slide" style="left:-300px;">侧边栏</div>
    <div id="mask"></div>
    <div class="contentWrap">
      <button type="button" id="showSlide">显示侧边栏</button>
    </div>


  <script>
    var btn = document.getElementById("showSlide");
    var slide = document.getElementById("slide")
    var mask = document.getElementById('mask')
    btn.onclick = function(){
      mask.style.opacity = "0.2";
      var t1 = setInterval(function(){
        var ml = parseInt(slide.style.left);
        if(ml < 0){
          slide.style.left = ml + 15 + "px"
        }
        else{
          clearInterval(t1)
        }
      },15)
    }

    slide.onclick = function(){
      mask.style.opacity = "0";
      var t2 = setInterval(function(){
        var ml = parseInt(slide.style.left);
        if(ml > -300){
          slide.style.left = ml - 15 + "px"
        }
        else{
          clearInterval(t2)
        }
      },15)
    }
  </script>
  </body>
</html>
